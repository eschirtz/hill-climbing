<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Mon Mar 06 11:29:57 CET 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UtilTimerStack (Struts 2 Core 2.5.10.1 API)</title>
<meta name="date" content="2017-03-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UtilTimerStack (Struts 2 Core 2.5.10.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UtilTimerStack.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/opensymphony/xwork2/util/profiling/ProfilingTimerBean.html" title="class in com.opensymphony.xwork2.util.profiling"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="interface in com.opensymphony.xwork2.util.profiling"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/opensymphony/xwork2/util/profiling/UtilTimerStack.html" target="_top">Frames</a></li>
<li><a href="UtilTimerStack.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.opensymphony.xwork2.util.profiling</div>
<h2 title="Class UtilTimerStack" class="title">Class UtilTimerStack</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.opensymphony.xwork2.util.profiling.UtilTimerStack</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">UtilTimerStack</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>A timer stack.</p>
 <!-- START SNIPPET: profilingAspect_struts2 -->
 <p>
 Struts2 profiling aspects involves the following:
 </p>

 <ul>
  <li>ActionContextCleanUp</li>
  <li>FreemarkerPageFilter</li>
  <li>DispatcherFilter
      <ul>
          <li>Dispatcher
              <ul>
                  <li>creation of DefaultActionProxy
                      <ul>
                          <li>creation of DefaultActionInvocation
                              <ul>
                                  <li>creation of Action</li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>execution of DefaultActionProxy
                      <ul>
                          <li>invocation of DefaultActionInvocation
                              <ul>
                                  <li>invocation of Interceptors</li>
                                  <li>invocation of Action</li>
                                  <li>invocation of PreResultListener</li>
                                  <li>invocation of Result</li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
  </li>
 </ul>

 <!-- END SNIPPET: profilingAspect_struts2 -->


 <!-- START SNIPPET: profilingAspect_xwork -->
 <p>
 XWork2 profiling aspects involves the following:
 </p>

 <ul>
  <li>creation of DefaultActionProxy
      <ul>
          <li>creation of DefaultActionInvocation</li>
      </ul>
  </li>
  <li>creation of Action</li>
  <li>execution of DefaultActionProxy
      <ul>
          <li>invocation of DefaultActionInvocation
              <ul>
                  <li>invocation of Interceptors</li>
                  <li>invocation of Action</li>
                  <li>invocation of PreResultListener</li>
                  <li>invocation of Result</li>
              </ul>
          </li>
      </ul>
  </li>
 </ul>

 <!-- END SNIPPET: profilingAspect_xwork -->


 <!-- START SNIPPET: activationDescription -->
 <p>
 Activating / Deactivating of the profiling feature could be done through:
 </p>
 <!-- END SNIPPET: activationDescription -->



 <p>System properties:</p>
 <pre>
 <!-- START SNIPPET: activationThroughSystemProperty -->

  -Dxwork.profile.activate=true

 <!-- END SNIPPET: activationThroughSystemProperty -->
 </pre>

 <!-- START SNIPPET: activationThroughSystemPropertyDescription -->
 <p>
 This could be done in the container startup script eg. CATALINA_OPTS in catalina.sh
 (tomcat) or using 'java -Dxwork.profile.activate=true -jar start.jar' (jetty)
 </p>
 <!-- END SNIPPET: activationThroughSystemPropertyDescription -->


 <p>Code :</p>
 <pre>
 <!-- START SNIPPET: activationThroughCode -->

  UtilTimerStack.setActivate(true);

 <!-- END SNIPPET: activationThroughCode -->
 </pre>
 <!-- START SNIPPET: activationThroughCodeDescription -->
 <p>
 This could be done in a static block, in a Spring bean with lazy-init='false',
 in a Servlet with init-on-startup as some numeric value, in a Filter or
 Listener's init method etc.
 </p>
 <!-- END SNIPPET: activationThroughCodeDescription -->

 <p>
 Parameter:
 </p>

 <pre>
 <!-- START SNIPPET: activationThroughParameter -->

 &lt;action ... &gt;
  ...
  &lt;interceptor-ref name=&quot;profiling&quot;&gt;
      &lt;param name=&quot;profilingKey&quot;&gt;profiling&lt;/param&gt;
  &lt;/interceptor-ref&gt;
  ...
 &lt;/action&gt;

 or

 &lt;action .... &gt;
 ...
  &lt;interceptor-ref name=&quot;profiling&quot; /&gt;
 ...
 &lt;/action&gt;

 through url

 http://host:port/context/namespace/someAction.action?profiling=true

 through code

 ActionContext.getContext().getParameters().put(&quot;profiling&quot;, &quot;true);

 <!-- END SNIPPET: activationThroughParameter -->
 </pre>


 <!-- START SNIPPET: activationThroughParameterDescription -->
 <p>
 To use profiling activation through parameter, one will need to pass in through
 the 'profiling' parameter (which is the default) and could be changed through
 the param tag in the interceptor-ref.
 </p>
 <!-- END SNIPPET: activationThroughParameterDescription -->

 <p>Warning:</p>

 <!-- START SNIPPET: activationThroughParameterWarning -->
 <p>
 Profiling activation through a parameter requires the following:
 </p>

 <ul>
 <li>Profiling interceptor in interceptor stack</li>
 <li>dev mode on (struts.devMode=true in struts.properties)
 </ul>

 <!-- END SNIPPET: activationThroughParameterWarning -->

 <!-- START SNIPPET: filteringDescription -->
 <p>
 One could filter out the profile logging by having a System property as follows. With this
 'xwork.profile.mintime' property, one could only log profile information when its execution time
 exceed those specified in 'xwork.profile.mintime' system property. If no such property is specified,
 it will be assumed to be 0, hence all profile information will be logged.
 </p>

 <!-- END SNIPPET: filteringDescription -->

 <pre>
 <!-- START SNIPPET: filteringCode -->

  -Dxwork.profile.mintime=10000

 <!-- END SNIPPET: filteringCode -->
 </pre>

 <!-- START SNIPPET: methodDescription -->
 <p>
 One could extend the profiling feature provided by Struts2 in their web application as well.
 </p>
 <!-- END SNIPPET: methodDescription -->

 <pre>
 <!-- START SNIPPET: method1 -->

    String logMessage = &quot;Log message&quot;;
    UtilTimerStack.push(logMessage);
    try {
        // do some code
    }
    finally {
        UtilTimerStack.pop(logMessage); // this needs to be the same text as above
    }

 <!-- END SNIPPET: method1 -->
 </pre>
 <p>
 or
 </p>
 <pre>
 <!-- START SNIPPET: method2 -->

   String result = UtilTimerStack.profile(&quot;purchaseItem: &quot;,
       new UtilTimerStack.ProfilingBlock&lt;String&gt;() {
            public String doProfiling() {
               // do some code
               return &quot;Ok&quot;;
            }
       });

 <!-- END SNIPPET: method2 -->
 </pre>


 <!-- START SNIPPET: profileLogFile -->
 <p>
 Profiled result is logged using commons-logging under the logger named
 'com.opensymphony.xwork2.util.profiling.UtilTimerStack'. Depending on the underlying logging implementation
 say if it is Log4j, one could direct the log to appear in a different file, being emailed to someone or have
 it stored in the db.
 </p>

 <!-- END SNIPPET: profileLogFile --></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="interface in com.opensymphony.xwork2.util.profiling">UtilTimerStack.ProfilingBlock</a>&lt;<a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="type parameter in UtilTimerStack.ProfilingBlock">T</a>&gt;</strong></code>
<div class="block">A callback interface where code subjected to profile is to be executed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#ACTIVATE_PROPERTY">ACTIVATE_PROPERTY</a></strong></code>
<div class="block">System property that controls whether this timer should be used or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a>&lt;<a href="../../../../../com/opensymphony/xwork2/util/profiling/ProfilingTimerBean.html" title="class in com.opensymphony.xwork2.util.profiling">ProfilingTimerBean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#current">current</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#MIN_TIME">MIN_TIME</a></strong></code>
<div class="block">System property that controls the min time, that if exceeded will cause a log (at INFO level) to be
 created.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#UtilTimerStack()">UtilTimerStack</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#isActive()">isActive</a></strong>()</code>
<div class="block">Determine if profiling is being activated, by searching for a system property
 'xwork.profile.activate', default to false (profiling is off).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#pop(java.lang.String)">pop</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">End a performance profiling with the <code>name</code> given.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#profile(java.lang.String,%20com.opensymphony.xwork2.util.profiling.UtilTimerStack.ProfilingBlock)">profile</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
       <a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="interface in com.opensymphony.xwork2.util.profiling">UtilTimerStack.ProfilingBlock</a>&lt;T&gt;&nbsp;block)</code>
<div class="block">
 A convenience method that allows <code>block</code> of code subjected to profiling to be executed
 and avoid the need of coding boiler code that does pushing (UtilTimeBean.push(...)) and
 poping (UtilTimerBean.pop(...)) in a try ...</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#push(java.lang.String)">push</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Create and start a performance profiling with the <code>name</code> given.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.html#setActive(boolean)">setActive</a></strong>(boolean&nbsp;active)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="current">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>current</h4>
<pre>protected static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a>&lt;<a href="../../../../../com/opensymphony/xwork2/util/profiling/ProfilingTimerBean.html" title="class in com.opensymphony.xwork2.util.profiling">ProfilingTimerBean</a>&gt; current</pre>
</li>
</ul>
<a name="ACTIVATE_PROPERTY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACTIVATE_PROPERTY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ACTIVATE_PROPERTY</pre>
<div class="block">System property that controls whether this timer should be used or not.  Set to &quot;true&quot; activates
 the timer.  Set to &quot;false&quot; to deactivate.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.opensymphony.xwork2.util.profiling.UtilTimerStack.ACTIVATE_PROPERTY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MIN_TIME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MIN_TIME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> MIN_TIME</pre>
<div class="block">System property that controls the min time, that if exceeded will cause a log (at INFO level) to be
 created.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.opensymphony.xwork2.util.profiling.UtilTimerStack.MIN_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UtilTimerStack()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UtilTimerStack</h4>
<pre>public&nbsp;UtilTimerStack()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="push(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>push</h4>
<pre>public static&nbsp;void&nbsp;push(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Create and start a performance profiling with the <code>name</code> given. Deal with
 profile hierarchy automatically, so caller don't have to be concern about it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - profile name</dd></dl>
</li>
</ul>
<a name="pop(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pop</h4>
<pre>public static&nbsp;void&nbsp;pop(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">End a performance profiling with the <code>name</code> given. Deal with
 profile hierarchy automatically, so caller don't have to be concern about it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - profile name</dd></dl>
</li>
</ul>
<a name="isActive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isActive</h4>
<pre>public static&nbsp;boolean&nbsp;isActive()</pre>
<div class="block">Determine if profiling is being activated, by searching for a system property
 'xwork.profile.activate', default to false (profiling is off).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><tt>true</tt>, if active, <tt>false</tt> otherwise.</dd></dl>
</li>
</ul>
<a name="setActive(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setActive</h4>
<pre>public static&nbsp;void&nbsp;setActive(boolean&nbsp;active)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>active</code> - Turn profiling on or off.</dd></dl>
</li>
</ul>
<a name="profile(java.lang.String, com.opensymphony.xwork2.util.profiling.UtilTimerStack.ProfilingBlock)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>profile</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;profile(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
            <a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="interface in com.opensymphony.xwork2.util.profiling">UtilTimerStack.ProfilingBlock</a>&lt;T&gt;&nbsp;block)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><p>
 A convenience method that allows <code>block</code> of code subjected to profiling to be executed
 and avoid the need of coding boiler code that does pushing (UtilTimeBean.push(...)) and
 poping (UtilTimerBean.pop(...)) in a try ... finally ... block.
 </p>

 <p>
 Example of usage:
 </p>

 <pre>
         // we need a returning result
   String result = UtilTimerStack.profile("purchaseItem: ",
       new UtilTimerStack.ProfilingBlock&lt;String&gt;() {
            public String doProfiling() {
               getMyService().purchaseItem(....)
               return "Ok";
            }
       });
 </pre>

 or

 <pre>
   // we don't need a returning result
   UtilTimerStack.profile("purchaseItem: ",
       new UtilTimerStack.ProfilingBlock&lt;String&gt;() {
            public String doProfiling() {
               getMyService().purchaseItem(....)
               return null;
            }
       });
 </pre></div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - any return value if there's one.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - profile name</dd><dd><code>block</code> - code block subjected to profiling</dd>
<dt><span class="strong">Returns:</span></dt><dd>T</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - in case of any errors</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UtilTimerStack.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/opensymphony/xwork2/util/profiling/ProfilingTimerBean.html" title="class in com.opensymphony.xwork2.util.profiling"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/opensymphony/xwork2/util/profiling/UtilTimerStack.ProfilingBlock.html" title="interface in com.opensymphony.xwork2.util.profiling"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/opensymphony/xwork2/util/profiling/UtilTimerStack.html" target="_top">Frames</a></li>
<li><a href="UtilTimerStack.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000&#x2013;2017 <a href="http://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
